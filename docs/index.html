<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>crystallography model: crystallography-model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<!--DOXYGEN AWESOME CSS-->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeTabs.init()
</script>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">crystallography model<span id="projectnumber">&#160;pre-release</span>
   </div>
   <div id="projectbrief">by mrsinho.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">crystallography-model </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1">Overview</a></li>
<li class="level1"><a href="#autotoc_md2">(Skip) CMakeLists.txt generation</a></li>
<li class="level1"><a href="#autotoc_md3">Generate project files and build</a></li>
<li class="level1"><a href="#autotoc_md4">Run crystal model executable</a></li>
<li class="level1"><a href="#autotoc_md5">Usage of configuration files</a></li>
<li class="level1"><a href="#autotoc_md6">Commands</a></li>
<li class="level1"><a href="#autotoc_md7">To do (pre-release):</a></li>
<li class="level1"><a href="#autotoc_md8">Contributions and support</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md__d_1_2home_2desktop_2github_2crystallography-model_2_r_e_a_d_m_e"></a> </p><dl class="section warning"><dt>Warning</dt><dd><em>This is a pre-release version, first release is expected to be by the end of <b>August 2024</b>.</em></dd></dl>
<p>A 3d simulator of crystallography interference and diffraction images using the Laue's equation. It's written in C and it uses the <a href="https://www.vulkan.org"><code>Vulkan API</code></a>, <a href="https://mrsinho.github.io/shengine-docs"><code>shengine</code></a> and <a href="https://github.com/mrsinho/shvulkan"><code>shvulkan</code></a>.</p>
<p><img src="https://img.shields.io/badge/Sinho_softworks-006400?style=for-the-badge&amp;logo=&amp;logoColor=white&amp;labelColor=990042" alt="" class="inline"/> <a href="https://github.com/mrsinho/crystallography-model"><img src="https://img.shields.io/badge/GitHub_repository-000000?style=for-the-badge&amp;logo=github&amp;logoColor=white" alt="" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p>This template has been used on many libraries (see <a href="https://mrsinho.github.io/shengine-docs"><code>shengine</code></a>, <a href="https://mrsinho.github.io/shgui-docs"><code>shgui</code></a>)</p>
<p><img src="linux-exit-code.svg" alt="" style="pointer-events: none;" class="inline"/>    </p>
<p><img src="windows-exit-code.svg" alt="" style="pointer-events: none;" class="inline"/>    </p>
<p><img src="https://img.shields.io/badge/Written_in_C-006400?style=for-the-badge&amp;logo=c&amp;logoColor=white&amp;labelColor=003200#.svg" alt="" class="inline"/> <img src="https://img.shields.io/badge/Compatible_with_C%2b%2b-006400?style=for-the-badge&amp;logo=c%2b%2b&amp;logoColor=white&amp;labelColor=003200#.svg" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2"></a>
(Skip) CMakeLists.txt generation</h1>
<dl class="section warning"><dt>Warning</dt><dd><em>Skip this step if you are not the developer.</em></dd></dl>
<div class="fragment"><div class="line">cd externals/shengine</div>
<div class="line">python export-application.py name=crystal-model path=../../crystal-model</div>
</div><!-- fragment --><p>If you exectued the command above by mistake just type <code>git stash</code> on the terminal.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Generate project files and build</h1>
<p>Building the program is fairly simple:</p>
<div class="tabbed"></div><div class="tabbed"><ul>
<li><b class="tab-title">Windows</b> <div class="fragment"><div class="line">mkdir crystal-model/build</div>
<div class="line">mkdir crystal-model/build/windows</div>
<div class="line">cd    crystal-model/build/windows</div>
<div class="line">cmake ../../ -DCRYSTAL_MODEL_BINARY_TYPE=EXECUTABLE -DSH_ENGINE_ROOT_DIR=&quot;repo/absolute/path/externals/shengine&quot;</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --></li>
<li><b class="tab-title">Linux</b> <div class="fragment"><div class="line">mkdir crystal-model/build</div>
<div class="line">mkdir crystal-model/build/linux</div>
<div class="line">cd    crystal-model/build/linux</div>
<div class="line">cmake ../../ -DCRYSTAL_MODEL_BINARY_TYPE=EXECUTABLE -DSH_ENGINE_ROOT_DIR=&quot;repo/absolute/path/externals/shengine&quot;</div>
<div class="line">cmake --build .</div>
</div><!-- fragment --></li>
</ul>
</div><div class="tabbed"></div><h1><a class="anchor" id="autotoc_md4"></a>
Run crystal model executable</h1>
<div class="tabbed"></div><div class="tabbed"><ul>
<li><b class="tab-title">Windows</b> <div class="fragment"><div class="line">./crystal-model/bin/windows/crystal-model</div>
</div><!-- fragment --></li>
<li><b class="tab-title">Linux</b> <div class="fragment"><div class="line">./crystal-model/bin/linux/crystal-model</div>
</div><!-- fragment --></li>
</ul>
</div><div class="tabbed"></div><h1><a class="anchor" id="autotoc_md5"></a>
Usage of configuration files</h1>
<p>At <code>crystal-model/smd/saved.smd</code> you can edit the main parameters used in crystallography, suchh as the incident ray wavelength and orientation in space, the lattice unit structure and the photosensitive matrix or film distance from the crystal.</p>
<div class="fragment"><div class="line">FLOAT32    ^^ 1    !! lambda_ag       --&gt; 5 ***</div>
<div class="line">FLOAT32    ^^ 4    !! incident_ray    --&gt; 1, 0, 0 ***</div>
<div class="line"> </div>
<div class="line">UINT32     ^^ 1    !! atom_count         --&gt; 4 ***</div>
<div class="line">FLOAT32    ^^ 16   !! atoms_positions_ag --&gt; 0 0 0 1 0 10 0 1 0 10 0 1 10 0 0 1 ***</div>
<div class="line"> </div>
<div class="line">FLOAT32    ^^ 1    !! film_distance_cm --&gt; 1 ***</div>
</div><!-- fragment --><p>To load the written or saved data from <code>crystal-model/smd/saved.smd</code> press <code>LEFT_CTRL</code> + <code>L</code>. To recovery the default information press <code>LEFT_CTRL</code> + <code>R</code>. To export the current information data to <code>crystal-model/smd/saved.smd</code>, press <code>LEFT_CTRL</code> + <code>E</code>.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Commands</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter   </th><th class="markdownTableHeadNone">Increase keys   </th><th class="markdownTableHeadNone">Decrease keys    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>lambda_ag</code>   </td><td class="markdownTableBodyNone"><em>W</em>   </td><td class="markdownTableBodyNone"><em>Q</em>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>incident_ray</code>   </td><td class="markdownTableBodyNone"><em>S F H</em>   </td><td class="markdownTableBodyNone"><em>A D G</em>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>film_distance</code>   </td><td class="markdownTableBodyNone"><em>X</em>   </td><td class="markdownTableBodyNone"><em>Z</em>   </td></tr>
</table>
<div class="image">
<img src="render3.png" alt=""/>
</div>
    <h1><a class="anchor" id="autotoc_md7"></a>
To do (pre-release):</h1>
<ul>
<li>Generate real 3d cones with shaders (need to rewrite shaders)</li>
<li>Add projections of the cones on the film<ul>
<li>currently the film is only a canvas of angles</li>
<li>missing orientation and position of the lattice and of the film</li>
</ul>
</li>
<li>3d view</li>
<li>abstract 3d library from the application</li>
<li>shci tests</li>
<li>From a source image find the lattice</li>
<li>Compute interference coordinates and angles before fragment shader. Then check pixel coordinates with a tolerance threshold.</li>
<li>From soure image to 3d model</li>
<li>Make separate views of lattice and of interference rendering</li>
<li>shci tests</li>
</ul>
<div class="image">
<img src="d=2lambda.png" alt=""/>
</div>
    <h1><a class="anchor" id="autotoc_md8"></a>
Contributions and support</h1>
<p>Should you encounter any issues with the tools or wish to introduce new features, I welcome your contributions to the repository. You can contribute by either opening an issue or submitting a pull request.</p>
<p><a href="https://www.buymeacoffee.com/mrsinho"><img src="https://img.shields.io/badge/Buy_Me_A_Coffee-006400?style=for-the-badge&amp;logo=buy-me-a-coffee&amp;logoColor=white" alt="" class="inline"/></a> <img src="https://img.shields.io/badge/Sinho_softworks-006400?style=for-the-badge&amp;logo=&amp;logoColor=white&amp;labelColor=990042" alt="" class="inline"/> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
